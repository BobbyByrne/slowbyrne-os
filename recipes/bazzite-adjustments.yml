---
# yaml-language-server: $schema=https://schema.blue-build.org/module-list-v1.json

modules:

  - type: dnf
    repos:
      files:
        - https://repository.mullvad.net/rpm/stable/mullvad.repo
      copr:
        - atim/starship
        - lilay/topgrade
    optfix:
      - Mullvad VPN
    install:
      packages:
        - android-tools
        - helix
        - ripgrep
        - fd-find
        - du-dust
        - gitui
        - procs
        - tldr
        - zoxide
        - mullvad-vpn
        - starship
        - topgrade
    remove:
      packages:
        - gnome-system-monitor
        - gnome-color-manager
        - ibus-anthy
        - ibus-anthy-python
        - ibus-hangul
        - ibus-libpinyin
        - malcontent-control
        - rygel

  - type: default-flatpaks
    configurations:
      - notify: false
      - scope: user
        install:
          - com.github.tchx84.Flatseal
          - com.mattjakeman.ExtensionManager
          - io.missioncenter.MissionCenter
          - org.libreoffice.LibreOffice

  - type: fonts
    fonts:
      nerd-fonts:
        - FiraCode

  - type: chezmoi
    repository: "ssh://git@codeberg.org/bobbyb/dotfiles.git"
    file-conflict-policy: replace

  # this sets up the proper policy & signing files for signed images to work fully
  - type: signing